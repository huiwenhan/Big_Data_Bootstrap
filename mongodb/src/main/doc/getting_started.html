<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
</head>
<body             onload="placeFocus()"
     id="com-atlassian-confluence" class="theme-default ">
<ul id="assistive-skip-links" class="assistive">
    <li><a href="#title-heading">Skip to content</a></li>
    <li><a href="#breadcrumbs">Skip to breadcrumbs</a></li>
    <li><a href="#header-menu-bar">Skip to header menu</a></li>
    <li><a href="#navigation">Skip to action menu</a></li>
    <li><a href="#quick-search-query">Skip to quick search</a></li>
</ul>
<div id="page">
<div id="full-height-container">
<style type="text/css">
#preview #previewArea iframe {

   overflow: visible;
}
</style>


<fieldset class="hidden parameters">
    <input type="hidden" id="shortcutDialogTip" value="Shortcut tip: Pressing <b>{shortcut}</b> also opens this dialog box">
        <input type="hidden" title="i18n.close.name" value="Close">
        <input type="hidden" title="i18n.cancel.name" value="Cancel">
</fieldset><fieldset class="hidden parameters">
    <input type="hidden" id="statusDialogHeading" value="What are you working on?">
    <input type="hidden" id="statusDialogAccessibilityLabel" value="Enter your status (140 character limit)">
    <input type="hidden" id="statusDialogLatestLabel" value="Last update:">
    <input type="hidden" id="statusDialogUpdateButtonLabel" value="Update">
    <input type="hidden" id="statusDialogCancelButtonLabel" value="Cancel">
</fieldset>

<fieldset class="hidden parameters">
    <input type="hidden" id="globalSettingsAttachmentMaxSize" value="20971520">
    <input type="hidden" id="userLocale" value="en_GB">
    <input type="hidden" id="staticResourceUrlPrefix" value="/confluence/s/en/2176/1/_">
    <input type="hidden" id="contextPath" value="/confluence">
</fieldset>

    
<div id="header" class="">
        <form id="quick-search" class="quick-search" method="get" action="/confluence/dosearchsite.action">
        <fieldset>
            <label class="assistive" for="quick-search-query">Quick Search</label>
            <input class="quick-search-query" id="quick-search-query" type="text" accessKey="q" autocomplete="off" name="queryString" size="25" title="Quick Search" />
            <input class="quick-search-submit" id="quick-search-submit" type="submit" value="Search" />
            <div class="aui-dd-parent quick-nav-drop-down"><!-- Quick nav appears here --></div>
        </fieldset>
        <fieldset class="hidden parameters">
            <input type="hidden" id="quickNavEnabled" value="true" />
                    </fieldset>
    </form>
    <ul id="header-menu-bar" class="ajs-menu-bar">
                    
        
            <li class="normal ajs-menu-item">
        <a id="browse-menu-link" class="browse trigger ajs-menu-title" href="#"><span><span>Browse</span></span></a>         <div class="assistive ajs-drop-down">
                        <ul  id="browse-menu-link-leading"                 class="section-leading first">
                                        <li>
    
        
    
    <a  id="space-pages-link" href="/confluence/pages/listpages.action?key=Hive"  class=""   title="Browse pages in the Apache Hive space">
                   <span>Pages</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-blogposts-link" href="/confluence/pages/viewrecentblogposts.action?key=Hive"  class=""   title="Browse blogs in the Apache Hive space">
                   <span>Blog</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-labels-link" href="/confluence/labels/listlabels-heatmap.action?key=Hive"  class=""   title="Browse labels in the Apache Hive space">
                   <span>Labels</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-attachments-link" href="/confluence/spaces/listattachmentsforspace.action?key=Hive"  class=""   title="Browse attachments in the Apache Hive space">
                   <span>Attachments</span></a>        </li>
                                        <li>
    
        
    
    <a  href="/confluence/spaces/space-bookmarks.action?spaceKey=Hive"  class=""   title="Browse bookmarks in the Apache Hive space">
                   <span>Bookmarks</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-mail-link" href="/confluence/spaces/viewmailarchive.action?key=Hive"  class=""   title="Browse mail in the Apache Hive space">
                   <span>Mail</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-advanced-link" href="/confluence/spaces/viewspacesummary.action?key=Hive"  class=""   title="Browse additional space functions in the Apache Hive space">
                   <span>Advanced</span></a>        </li>
                            </ul>
                        <ul  id="browse-menu-link-global"                 class="section-global">
                                        <li>
    
        
    
    <a  id="whats-new-menu-link" href="http://docs.atlassian.com/confluence/docs-35/whatsnew/iframe"  class=""   title="">
                   <span>What’s New</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-directory-link" href="/confluence/spacedirectory/view.action"  class=""   title="Browse the Confluence space directory">
                   <span>Space Directory</span></a>        </li>
                                        <li>
    
        
    
    <a  id="keyboard-shortcuts-link" href="/confluence"  class=""   title="View available keyboard shortcuts">
                   <span>Keyboard Shortcuts</span></a>        </li>
                                        <li>
    
        
    
    <a  id="gadget-directory-link" href="/confluence"  class="user-item administration-link"   title="Browse gadgets provided by Confluence">
                   <span>Confluence Gadgets</span></a>        </li>
                            </ul>
                    </div>
    </li>
        
                                                         <li class="ajs-menu-item normal">
        
        
    
    <a  id="login-link" href="/confluence/login.action?os_destination=%2Fdisplay%2FHive%2FGettingStarted"  class="user-item login-link"   title="">
                   <span>Log In</span></a>        </li>
                            <li class="ajs-menu-item normal">
    
        
    
    <a  id="signup-link" href="/confluence/signup.action"  class="user-item signup-link"   title="">
                   <span>Sign Up</span></a>        </li>
                            </ul>
    
    
    <ol id="breadcrumbs">
                    
                        
        <li class="first" >
                                            <span><a href="/confluence/dashboard.action" title="Go to Dashboard">Dashboard</a></span>
                </li>
                    
                
        <li>
                                            <span><a href="/confluence/display/Hive">Apache Hive</a></span>
                </li>
                    
                
        <li>
                                            <span>GettingStarted</span>
                </li>
        </ol>

</div><!-- \#header -->

<div id="main" >
    
    
    <div id="navigation" class="content-navigation view">
        <fieldset class="hidden parameters">
            <input type="hidden" id="pageId" value="27362090">
        </fieldset>
        <ul class="ajs-menu-bar">
                                
                        
            <li class="normal ajs-menu-item">
        <a id="action-menu-link" class="action trigger ajs-menu-title" href="#"><span><span>Tools</span></span></a>         <div class="assistive ajs-drop-down">
                        <ul  id="action-menu-link-primary"                 class="section-primary first">
                                        <li>
    
        
    
    <a  id="view-attachments-link" href="/confluence/pages/viewpageattachments.action?pageId=27362090"  class="action-view-attachments"  accessKey="a"  title="View Attachments">
                   <span><u>A</u>ttachments (0)</span></a>        </li>
                                        <li>
    
        
    
    <a  id="action-view-history-link" href="/confluence/pages/viewpreviousversions.action?pageId=27362090"  class="action-view-history"   title="">
                   <span>Page History</span></a>        </li>
                                        <li>
    
        
    
    <a  id="action-page-permissions-link" href="/confluence/pages/viewinfo.action?pageId=27362090"  class="action-page-permissions"   title="Edit restrictions">
                   <span>Restrictions</span></a>        </li>
                            </ul>
                        <ul  id="action-menu-link-secondary"                 class="section-secondary">
                                        <li>
    
        
    
    <a  id="view-page-info-link" href="/confluence/pages/viewinfo.action?pageId=27362090"  class="action-view-info"   title="">
                   <span>Info</span></a>        </li>
                                        <li>
    
        
    
    <a  id="link-to-page-link" href="/confluence/pages/viewinfo.action?pageId=27362090"  class=""   title="Link to this Page">
                   <span>Link to this Page&hellip;</span></a>        </li>
                                        <li>
    
        
    
    <a  id="view-in-hierarchy-link" href="/confluence/pages/listpages-dirview.action?key=Hive&amp;openId=27362090#selectedPageInHierarchy"  class=""   title="">
                   <span>View in Hierarchy</span></a>        </li>
                                        <li>
    
        
    
    <a  id="action-view-source-link" href="/confluence/pages/viewpagesrc.action?pageId=27362090"  class="action-view-source popup-link"   title="">
                   <span>View Wiki Markup</span></a>        </li>
                            </ul>
                    </div>
    </li>
            </ul>
    </div>

    
    <h1 id="title-heading" class="pagetitle">
                    <a href="/confluence/display/Hive"><img class="logo space custom" src="/confluence/download/attachments/27362113/Hive?version=2&amp;modificationDate=1317659390000" alt=""></a>        
		<span id="title-text">
					            <a href="/confluence/display/Hive/GettingStarted">GettingStarted</a>
    				</span>
    </h1>

    

                        
    <div id="content" class="page view">
    



<div id="link-to-page-fields" class="hidden parameters">
    <input type="hidden" id="linkToThisPageHeading" value="Link to this Page">
    <input type="hidden" id="linkToThisPageLink" value="Link">
    <input type="hidden" id="linkToThisPageTinyLink" value="Tiny Link">
    <input type="hidden" id="linkToThisPageWikiMarkup" value="Wiki Markup">
    <input type="hidden" id="linkToThisPageClose" value="Close">
</div>
<fieldset class="hidden parameters">
    <input type="hidden" title="movePageDialogViewPageTitle" value="Move Page &ndash; &#8216;GettingStarted&#8217;">
    <input type="hidden" title="movePageDialogEditPageTitle" value="Set Page Location">
    <input type="hidden" title="movePageDialogMoveButton" value="Move">
    <input type="hidden" title="movePageDialogCancelButton" value="Cancel">
    <input type="hidden" title="movePageDialogBrowsePanelTip" value="Click to select the new parent page for this page and its children.">
    <input type="hidden" title="movePageDialogSearchPanel" value="Search">
    <input type="hidden" title="movePageDialogHistoryPanel" value="Recently Viewed">
    <input type="hidden" title="movePageDialogHistoryNoResults" value="There were no recently viewed pages found.">
    <input type="hidden" title="movePageDialogLocationPanel" value="Known Location">
    <input type="hidden" title="movePageDialogLocationNotFound" value="The specified page was not found.">
    <input type="hidden" title="movePageDialogBrowsePanel" value="Browse">
    <input type="hidden" title="movePageDialogPanelLoadErrorMsg" value="Error reading the panel content from the server.">
    <input type="hidden" title="movePageDialogPanelLoadErrorTip" value="You could try reloading the page and launching the dialog again.">
    <input type="hidden" title="movePageDialogPanelLoadErrorStatus" value="HTTP Status">
    <input type="hidden" title="movePageDialogNoSelectionErrorMsg" value="You must make a selection in the tree before you can move the page.">
    <input type="hidden" title="movePageDialogSearchError" value="Failed to retrieve search results from the server.">
    <input type="hidden" title="movePageDialogSearchNoResults" value="There were no pages found containing <b>{0}</b>.">
    <input type="hidden" title="movePageDialogSearchResultCount" value="Showing <b>{0}</b>-<b>{1}</b> of <b>{2}</b> pages containing <b>{3}</b>.">
    <input type="hidden" title="movePageDialogMoveFailed" value="Move failed. There was a problem contacting the server.">
    <input type="hidden" title="movePageDialogCannotChangeSpace" value="You cannot move this page to another space because you do not have permission to remove it from this space.">
    <input type="hidden" title="pageTitle" value="GettingStarted"/>
    <input type="hidden" title="parentPageTitle" value=""/>
    <input type="hidden" title="fromPageTitle" value=""/>
    <input type="hidden" title="spaceKey" value="Hive"/>
    <input type="hidden" title="spaceName" value="Apache Hive"/>
    <input type="hidden" title="movePageDialogInvalidLocation" value="You cannot move a page to be underneath itself or its children."/>
    <input type="hidden" title="movePageDialogOrderingTitle" value="Page Ordering"/>
    <input type="hidden" title="movePageDialogBackButton" value="Back"/>
    <input type="hidden" title="movePageDialogMoveAndOrderButton" value="Reorder"/>
    <input type="hidden" title="movePageDialogNextButton" value="Move"/>
</fieldset>

<script type="text/x-template" title="movePageDialog">
    <div class="row information">
        <div class="inner">
            <div class="element">
                Specify the new parent page for this page and its children by space and title.
            </div>
        </div>
    </div>
    <div class="form">
        <fieldset>
                

    <legend class="assistive"><span>Change the Parent Page to a Known Page</span></legend>
            <div class="row">
                <label for="new-space">New space:</label>
                <div class="value new-space-value">
                    <input id="new-space-key" name="new-space-key" type="hidden" value="Hive">
                                            <span class="space-input">
                            <input id="new-space" name="new-space" value="Apache Hive" disabled="disabled">
                        </span>
                        <span class="description warning">You cannot move this page to another space because you do not have permission to remove it from this space.</span>
                                        <div class="new-space-dropdown aui-dd-parent autocomplete"></div>
                </div>
            </div>
            <div class="row">
                <label for="new-parent-page">New parent page:</label>
                <div class="value new-parent-page-value">
                    <span class="page-input">
                        <input id="new-parent-page" name="new-parent-page" value="">
                    </span>
                    <span class="description">Start typing a page title to see a list of suggestions.</span>
                    <div class="new-parent-page-dropdown aui-dd-parent autocomplete"></div>
                </div>
            </div>
        </fieldset>
    </div>
    <div class="location-info">
        <div class="row">
            <label>Current location:</label>
            <div class="value breadcrumbs-container">
                <div class="breadcrumbs-line">
                    <ul id="current-parent-breadcrumbs" class="breadcrumbs">
                    </ul>
                </div>
            </div>
        </div>
        <div class="row">
            <label>New location:</label>
            <div class="value breadcrumbs-container">
                <div class="breadcrumbs-line">
                    <ul id="new-parent-breadcrumbs" class="breadcrumbs">
                    </ul>
                </div>
            </div>
        </div>
    </div>
</script>
<script type="text/x-template" title="movePageErrors">
    <div id="move-errors" class="hidden warning"></div>
</script>
<script type="text/x-template" title="movePageBreadcrumb">
    <li><a class="{2}" title="{3}" tabindex="-1"><span>{0}</span></a></li>
</script>
<script type="text/x-template" title="movePageBreadcrumbLoading">
    <li class="loading"><span>Loading breadcrumbs&hellip;</span></li>
</script>
<script type="text/x-template" title="movePageBreadcrumbError">
    <li class="warning last"><span>Error retrieving breadcrumbs.</span></li>
</script>
<script type="text/x-template" title="movePageNoMatchingPages">
    <ol><li><span class="warning">No matching pages found.</span></li></ol>
</script>
<script type="text/x-template" title="movePageNoMatchingSpaces">
    <ol><li><span class="warning">No matching spaces found.</span></li></ol>
</script>

<script type="text/x-template" title="movePageSearchPanel">
    <div class="row information">
        <div class="inner">
            <div class="element">
                Search for and select the new parent page for this page and its children.
            </div>
        </div>
    </div>
    <div id="move-page-search-container" class="row">
        <div class="search-form">
            <fieldset>
                    

    <legend class="assistive"><span>Search for a New Parent Page</span></legend>
                    

    <label  for="move-page-search-query" class="assistive">Search keywords</label>
                <input class="search-query" id="move-page-search-query">
                    

    <label  for="move-page-search-space" class="assistive">Search in space</label>
                                    <select id="move-page-search-space" class="search-space" disabled="disabled">
                        <option value="Hive" selected="selected">Apache Hive</option>
                    </select>
                                <input type="button" value="Search">
                                    <div class="description warning">You cannot move this page to another space because you do not have permission to remove it from this space.</div>
                            </fieldset>
        </div>
        <div class="search-results">
        </div>
    </div>
</script>
<script type="text/x-template" title="movePageSearchResultsLoading">
    <div class="searching">Searching…</div>
</script>

<script type="text/x-template" title="movePageHistoryPanel">
    <div class="row information">
        <div class="inner">
            <div class="element">
                Select the new parent page for this page and its children from your history.
            </div>
        </div>
    </div>
    <div id="move-page-search-container" class="row">
        <div class="search-results">
        </div>
    </div>
</script>
<script type="text/x-template" title="movePageHistoryLoading">
    <div class="searching">Loading…</div>
</script>
<script type="text/x-template" title="movePageBrowsePanel">
    <div class="row information">
        <div class="inner">
            <div class="element">
                Click to select the new parent page for this page and its children.
            </div>
        </div>
    </div>
    <div class="tree"></div>
</script>
<script type="text/x-template" title="movePagePanelLoading">
    <span>Loading…</span>
</script>
<script type="text/x-template" title="movePageBrowsePanelSpace">
    <ul><li id='tree-root-node-item' class='root-node-list-item'><a class='root-node' href='#'>{0}</a></li></ul>
</script>
<script type="text/x-template" title="orderingPagePanel">
<div id="orderingPlaceHolder"></div>
</script>
<script type="text/x-template" title="reorderCheckbox">
<span id="reorderRequirement"><input id="reorderCheck" type="checkbox" name="reorderFlag" title="Choose the position of this page within the list of child pages."/><label for="reorderCheck" title="Choose the position of this page within the list of child pages.">Reorder</label></span>
</script>
<script type="text/x-template" title="move-help-link">
    <div class="dialog-help-link">
            <a href="http://docs.atlassian.com/confluence/docs-35/Moving+a+Page" target="_blank">Help</a>
    </div>
</script>
<script type="text/x-template" title="searchResultsGrid">
    <table>
        <thead>
            <tr class="header">
                <th class="search-result-title">Page Title</th>
                <th class="search-result-space">Space</th>
                <th class="search-result-date">Updated</th>
            </tr>
        </thead>
    </table>
</script>
<script type="text/x-template" title="searchResultsGridCount">
    <p class="search-result-count">{0}</p>
</script>
<script type="text/x-template" title="searchResultsGridRow">
    <tr class="search-result">
        <th class="search-result-title"><a href="{1}" class="content-type-{2}"><span>{0}</span></a></th>
        <td class="search-result-space"><a class="space" href="/confluence/display/{4}/" title="{3}">{3}</a></td>
        <td class="search-result-date"><span class="date" title="{6}">{5}</span></td>
    </tr>
</script>
<!-- Start restrictions section -->
<script type="text/x-template" title="page-permissions-div">
<div id="page-permissions-div">
    <div id="page-permissions-editor-form">

                <div id="page-permissions-error-div" class="hidden">
            <a href="#" id="permissions-error-div-close">Ok</a>
            <div></div>
        </div>

                <div id="page-permissions-type-radios" class="page-permissions-label-rows">
            <div>
                <input id="restrictViewRadio" type="radio" checked="checked" name="pagePermissionTypeRadio" value="view"/>
                <label for="restrictViewRadio">Restrict viewing of this page</label>
                <input id="restrictEditRadio" type="radio" name="pagePermissionTypeRadio" value="edit"/>
                <label for="restrictEditRadio">Restrict editing of this page</label>
            </div>
        </div>
        <div id="page-permissions-input" class="page-permissions-label-rows">
            <div class="page-permissions-label">To:</div>
            <div id="page-permissions-chooser-box">
                                <span id="page-permissions-choose-user" class="ajs-button">
                    



    



<a href="#" id='userpicker-popup-link-image' onClick="var picker = window.open('/confluence/spaces/openuserpicker.action?key=Hive&amp;startIndex=0&amp;onPopupSubmit=AJS.PagePermissions.addUserPermissions', 'EntitiesPicker', 'status=yes,resizable=yes,top=100,left=200,width=700,height=680,scrollbars=yes'); picker.focus(); return false;"><img src="/confluence/s/en/2176/1/_/images/icons/user_16.gif" height=16 width=16 border=0 align="absmiddle"  title="Choose users" /></a>
<a href="#" id='userpicker-popup-link-text' onClick="var picker = window.open('/confluence/spaces/openuserpicker.action?key=Hive&amp;startIndex=0&amp;onPopupSubmit=AJS.PagePermissions.addUserPermissions', 'EntitiesPicker', 'status=yes,resizable=yes,top=100,left=200,width=700,height=680,scrollbars=yes'); picker.focus(); return false;">Person...</a>


                </span>
                <span id="page-permissions-choose-group" class="ajs-button">
                    



    

 

<a href="#" id='grouppicker-popup-link-image' onClick="var picker = window.open('/confluence/spaces/opengrouppicker.action?key=Hive&amp;startIndex=0&amp;actionName=dosearchgroups.action&amp;onPopupSubmit=AJS.PagePermissions.addGroupPermissions', 'EntitiesPicker', 'status=yes,resizable=yes,top=100,left=200,width=580,height=550,scrollbars=yes'); picker.focus(); return false;"><img src="/confluence/s/en/2176/1/_/images/icons/group_16.gif" height=16 width=16 border=0 align="absmiddle"  title="Choose groups" /></a>
<a href="#" id='grouppicker-popup-link-text' onClick="var picker = window.open('/confluence/spaces/opengrouppicker.action?key=Hive&amp;startIndex=0&amp;actionName=dosearchgroups.action&amp;onPopupSubmit=AJS.PagePermissions.addGroupPermissions', 'EntitiesPicker', 'status=yes,resizable=yes,top=100,left=200,width=580,height=550,scrollbars=yes'); picker.focus(); return false;">Group...</a>


                </span>
            </div>
            <div id="page-permissions-input-box">
                                <span>
                    <input type="text" id="page-permissions-names-input" class="input-placeholder" value="Enter user or group name" name="permissionNames" size="30" autocomplete="off"/>
                </span>
                <input
    type="hidden"
                            id="page-permissions-names-hidden"           />                <img height="16px" width="1px" src="/confluence/s/en/2176/1/_/images/border/spacer.gif"/>
                <input type="button" id="add-typed-names" value="Restrict">
            </div>
        </div>
    </div>
    <div id="page-permissions-tables">
        <div id="page-permissions-table-div">
                        <table id="page-permissions-table" class="page-permissions-table">
                <tr id="page-permissions-no-views" class="marker-row">
                    <td colspan="3" class="page-permissions-marker-cell"><span>No view restrictions are defined for this page</span></td>
                </tr>
                <tr id="page-permissions-no-edits" class="marker-row">
                    <td colspan="3" class="page-permissions-marker-cell"><span>No edit restrictions are defined for this page</span></td>
                </tr>
            </table>
        </div>
        <div id="page-inherited-permissions-table-div" class="hidden">
            <span id="page-inherited-permissions-table-desc">
                <a class="icon twisty-closed">Show/Hide</a>
                <a id="toggle-inherited-permissions" title="Click to see inherited restrictions">This page has restricted parent pages. It can only be seen by users who can see those parent pages.</a>
            </span>
            <div id="page-inherited-permissions-tables" class="hidden page-inheritance-togglable"></div>
        </div>
    </div>
</div>
</script>

<script type="text/x-template" title="permissions-row-template">
    <tr class="permission-row">
                                
                <td class="page-permissions-marker-cell" width="20%">
            <span>Viewing restricted to:</span>
        </td>
                <td class="permission-entity" nowrap="true" width="40%">
            <span class="entity-container">
                <img class="permission-entity-picture"/>
                <span class="permission-entity-display-name"></span>
                <span class="permission-entity-name-wrap">&nbsp;(<span class="permission-entity-name"></span>)</span>
            </span>
        </td>
        <td class="permission-detail-column">
            <div class="permission-remove-div">
                <a href="#" class="remove-permission-link">Remove restriction</a>
            </div>
        </td>
    </tr>
</script>
<script type="text/x-template" title="permissions-username-no-suggestion-template">
    <ol>
        <li><a href="#" class="message"><span>No matches</span></a></li>
    </ol>
</script>
<script type="text/x-template" title="page-inherited-permissions-table-div-template">
        <div class="page-inherited-permissions-owner-div">
        <div class="page-inherited-permissions-table-desc">Viewing restrictions apply to “<a></a>”. In order to see “<span></span>”, a user must be in the following list of users and groups:</div>
        <table class="page-permissions-table"></table>
    </div>
</script>
<script type="text/x-template" title="page-restrictions-help-link">
    <div class="dialog-help-link">
            <a href="http://docs.atlassian.com/confluence/docs-35/Page+Restrictions" target="_blank">Help</a>
    </div>
</script>
<!-- End restrictions section -->

<fieldset class="hidden parameters">
    <input type="hidden" title="spaceKeyEncoded" value="Hive">
    <input type="hidden" title="spaceKeyDecoded" value="Hive">
</fieldset>


        
    
    
        
                            
    

                    

        
        <a href="#page-metadata-end" class="assistive">Skip to end of metadata</a>
<div id="page-metadata-start" class="assistive"></div>

    <div class="page-metadata">
        <ul>
                            <li class="page-metadata-item noprint">
    
            
    
    <a  id="content-metadata-page-restrictions" href="#"  class="page-metadata-icon page-restrictions hidden"   title="Page restrictions apply. Click the lock icon to view or edit the restriction.">
                   <span>Page restrictions apply</span></a>        </li>
                        <li class="page-metadata-modification-info">
                                    Added by <a href="/confluence/display/~admin"
                          class="url fn"
                   >Confluence Administrator</a>, last edited by <a href="/confluence/display/~leftyl"
                          class="url fn"
                   >Lefty Leverenz</a> on Oct 01, 2013
                                                                <span class="noprint">&nbsp;(<a id="view-change-link" href="/confluence/pages/diffpages.action?pageId=27362090&originalId=34834367">view change</a>)</span>
                                                </li>
                            <li class="show-hide-comment-link">
                    <a id="show-version-comment" class="inline-control-link" href="#">show comment</a>
                    <a id="hide-version-comment" class="inline-control-link" style="display:none;" href="#">hide comment</a>
                </li>
                    </ul>
          <div id="version-comment" class="noteMacro" style="display: none;">
      <strong>Comment:</strong>
      link to HiveDerbyServerMode<br />
  </div>
    </div>


<a href="#page-metadata-start" class="assistive">Go to start of metadata</a>
<div id="page-metadata-end" class="assistive"></div>
        
        <fieldset class="hidden parameters">
                        <input type="hidden" title="browsePageTreeMode" value="view">
            <input type="hidden" title="parentPageId" value="">
        </fieldset>

        <div class="wiki-content">
           <!-- wiki content -->
            <p>Table of Contents</p>
<div>
<ul>
    <li><a href='#GettingStarted-InstallationandConfiguration'>Installation and Configuration</a></li>
<ul>
    <li><a href='#GettingStarted-Requirements'>Requirements</a></li>
    <li><a href='#GettingStarted-InstallingHivefromaStableRelease'>Installing Hive from a Stable Release</a></li>
    <li><a href='#GettingStarted-BuildingHivefromSource'>Building Hive from Source</a></li>
<ul>
    <li><a href='#GettingStarted-Compilehiveonhadoop23'>Compile hive on hadoop 23</a></li>
</ul>
    <li><a href='#GettingStarted-RunningHive'>Running Hive</a></li>
<ul>
    <li><a href='#GettingStarted-RunningHCatalog'>Running HCatalog</a></li>
    <li><a href='#GettingStarted-RunningWebHCat%28Templeton%29'>Running WebHCat (Templeton)</a></li>
</ul>
    <li><a href='#GettingStarted-Configurationmanagementoverview'>Configuration management overview</a></li>
    <li><a href='#GettingStarted-Runtimeconfiguration'>Runtime configuration</a></li>
    <li><a href='#GettingStarted-Hive%2CMapReduceandLocalMode'>Hive, Map-Reduce and Local-Mode</a></li>
    <li><a href='#GettingStarted-ErrorLogs'>Error Logs</a></li>
</ul>
    <li><a href='#GettingStarted-DDLOperations'>DDL Operations</a></li>
<ul>
    <li><a href='#GettingStarted-CreatingHiveTables'>Creating Hive Tables</a></li>
    <li><a href='#GettingStarted-BrowsingthroughTables'>Browsing through Tables</a></li>
    <li><a href='#GettingStarted-AlteringandDroppingTables'>Altering and Dropping Tables</a></li>
    <li><a href='#GettingStarted-MetadataStore'>Metadata Store</a></li>
</ul>
    <li><a href='#GettingStarted-DMLOperations'>DML Operations</a></li>
    <li><a href='#GettingStarted-SQLOperations'>SQL Operations</a></li>
<ul>
    <li><a href='#GettingStarted-ExampleQueries'>Example Queries</a></li>
<ul>
    <li><a href='#GettingStarted-SELECTSandFILTERS'>SELECTS and FILTERS</a></li>
    <li><a href='#GettingStarted-GROUPBY'>GROUP BY</a></li>
    <li><a href='#GettingStarted-JOIN'>JOIN</a></li>
    <li><a href='#GettingStarted-MULTITABLEINSERT'>MULTITABLE INSERT</a></li>
    <li><a href='#GettingStarted-STREAMING'>STREAMING</a></li>
</ul>
</ul>
    <li><a href='#GettingStarted-SimpleExampleUseCases'>Simple Example Use Cases</a></li>
<ul>
    <li><a href='#GettingStarted-MovieLensUserRatings'>MovieLens User Ratings</a></li>
    <li><a href='#GettingStarted-ApacheWeblogData'>Apache Weblog Data</a></li>
</ul>
</ul></div>

<p>DISCLAIMER: Hive has only been tested on unix(linux) and mac systems using Java 1.6 for now &#8211;<br/>
although it may very well work on other similar platforms. It does not work on Cygwin.</p>

<h2><a name="GettingStarted-InstallationandConfiguration"></a>Installation and Configuration</h2>


<h3><a name="GettingStarted-Requirements"></a>Requirements</h3>

<ul>
	<li>Java 1.6</li>
	<li>Hadoop 0.20.x.</li>
</ul>


<h3><a name="GettingStarted-InstallingHivefromaStableRelease"></a>Installing Hive from a Stable Release</h3>

<p>Start by downloading the most recent stable release of Hive from one of the Apache download mirrors (see <a href="http://hive.apache.org/releases.html" class="external-link" rel="nofollow">Hive Releases</a>).</p>

<p>Next you need to unpack the tarball. This will result in the creation of a subdirectory named <tt>hive-x.y.z</tt>:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  $ tar -xzvf hive-x.y.z.tar.gz
</pre>
</div></div>

<p>Set the environment variable <tt>HIVE_HOME</tt> to point to the installation directory:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  $ cd hive-x.y.z
  $ export HIVE_HOME={{pwd}}
</pre>
</div></div>

<p>Finally, add <tt>$HIVE_HOME/bin</tt> to your <tt>PATH</tt>:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  $ export PATH=$HIVE_HOME/bin:$PATH
</pre>
</div></div>

<h3><a name="GettingStarted-BuildingHivefromSource"></a>Building Hive from Source</h3>

<p>The Hive SVN repository is located here: <a href="http://svn.apache.org/repos/asf/hive/trunk" class="external-link" rel="nofollow">http://svn.apache.org/repos/asf/hive/trunk</a></p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  $ svn co http://svn.apache.org/repos/asf/hive/trunk hive
  $ cd hive
  $ ant clean package
  $ cd build/dist
  $ ls
  README.txt
  bin/ (all the shell scripts)
  lib/ (required jar files)
  conf/ (configuration files)
  examples/ (sample input and query files)
</pre>
</div></div>

<p>In the rest of the page we use <tt>build/dist</tt> and <tt>&lt;install-dir&gt;</tt> interchangeably.</p>

<h4><a name="GettingStarted-Compilehiveonhadoop23"></a>Compile hive on hadoop 23</h4>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  $ svn co http://svn.apache.org/repos/asf/hive/trunk hive
  $ cd hive
  $ ant clean package -Dhadoop.version=0.23.3 -Dhadoop-0.23.version=0.23.3 -Dhadoop.mr.rev=23
  $ ant clean package -Dhadoop.version=2.0.0-alpha -Dhadoop-0.23.version=2.0.0-alpha -Dhadoop.mr.rev=23
</pre>
</div></div>

<h3><a name="GettingStarted-RunningHive"></a>Running Hive</h3>

<p>Hive uses hadoop, so:</p>
<ul>
	<li>you must have hadoop in your path OR</li>
	<li><tt>export HADOOP_HOME=&lt;hadoop-install-dir&gt;</tt></li>
</ul>


<p>In addition, you must create <tt>/tmp</tt> and <tt>/user/hive/warehouse</tt> (aka <tt>hive.metastore.warehouse.dir</tt>) and set them <tt>chmod g+w</tt> in HDFS before you can create a table in Hive.</p>

<p>Commands to perform this setup:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  $ $HADOOP_HOME/bin/hadoop fs -mkdir       /tmp
  $ $HADOOP_HOME/bin/hadoop fs -mkdir       /user/hive/warehouse
  $ $HADOOP_HOME/bin/hadoop fs -chmod g+w   /tmp
  $ $HADOOP_HOME/bin/hadoop fs -chmod g+w   /user/hive/warehouse
</pre>
</div></div>

<p>You may find it useful, though it's not necessary, to set <tt>HIVE_HOME</tt>:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  $ export HIVE_HOME=&lt;hive-install-dir&gt;
</pre>
</div></div>

<p>To use the hive command line interface (cli) from the shell:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  $ $HIVE_HOME/bin/hive
</pre>
</div></div>

<h4><a name="GettingStarted-RunningHCatalog"></a>Running HCatalog</h4>

<p>To run the HCatalog server from the shell in Hive release 0.11.0 and later:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  $ $HIVE_HOME/hcatalog/sbin/hcat_server.sh
</pre>
</div></div>

<p>To use the HCatalog command line interface (cli) in Hive release 0.11.0 and later:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  $ $HIVE_HOME/hcatalog/bin/hcat
</pre>
</div></div>

<p>For more information, see <a href="/confluence/display/Hive/HCatalog+InstallHCat" title="HCatalog InstallHCat">HCatalog Installation from Tarball</a> and <a href="/confluence/display/Hive/HCatalog+CLI" title="HCatalog CLI">HCatalog CLI</a> in the <a href="/confluence/display/Hive/HCatalog" title="HCatalog">HCatalog manual</a>.</p>

<h4><a name="GettingStarted-RunningWebHCat%28Templeton%29"></a>Running WebHCat (Templeton)</h4>

<p>To run the WebHCat server from the shell in Hive release 0.11.0 and later:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  $ $HIVE_HOME/hcatalog/sbin/webhcat_server.sh
</pre>
</div></div>

<p>For more information, see <a href="/confluence/display/Hive/WebHCat+InstallWebHCat" title="WebHCat InstallWebHCat">WebHCat Installation</a> in the <a href="/confluence/display/Hive/WebHCat" title="WebHCat">WebHCat manual</a>.</p>


<h3><a name="GettingStarted-Configurationmanagementoverview"></a>Configuration management overview</h3>

<ul>
	<li>Hive by default gets its configuration from <tt>&lt;install-dir&gt;/conf/hive-default.xml</tt></li>
	<li>The location of the Hive configuration directory can be changed by setting the <tt>HIVE_CONF_DIR</tt> environment variable.</li>
	<li>Configuration variables can be changed by (re-)defining them in <tt>&lt;install-dir&gt;/conf/hive-site.xml</tt></li>
	<li>Log4j configuration is stored in <tt>&lt;install-dir&gt;/conf/hive-log4j.properties</tt></li>
</ul>


<ul>
	<li>Hive configuration is an overlay on top of hadoop &#8211; it inherits the hadoop configuration variables by default.</li>
</ul>


<ul>
	<li>Hive configuration can be manipulated by:
	<ul>
		<li>Editing hive-site.xml and defining any desired variables (including hadoop variables) in it</li>
		<li>From the cli using the set command (see below)</li>
		<li>Invoking hive using the syntax:
		<ul>
			<li><tt>$ bin/hive &#45;hiveconf x1=y1 &#45;hiveconf x2=y2</tt><br/>
this sets the variables x1 and x2 to y1 and y2 respectively</li>
		</ul>
		</li>
		<li>Setting the <tt>HIVE_OPTS</tt> environment variable to "-hiveconf x1=y1 &#45;hiveconf x2=y2" which does the same as above.</li>
	</ul>
	</li>
</ul>


<h3><a name="GettingStarted-Runtimeconfiguration"></a>Runtime configuration</h3>

<ul>
	<li>Hive queries are executed using map-reduce queries and, therefore, the behavior of such queries can be controlled by the hadoop configuration variables.</li>
</ul>


<ul>
	<li>The cli command 'SET' can be used to set any hadoop (or hive) configuration variable. For example:
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>    hive&gt; SET mapred.job.tracker=myhost.mycompany.com:50030;
    hive&gt; SET -v;
</pre>
</div></div>
<p>The latter shows all the current settings. Without the <tt>&#45;v</tt> option only the variables that differ from the base hadoop configuration are displayed.</p></li>
</ul>


<h3><a name="GettingStarted-Hive%2CMapReduceandLocalMode"></a>Hive, Map-Reduce and Local-Mode</h3>

<p>Hive compiler generates map-reduce jobs for most queries. These jobs are then submitted to the Map-Reduce cluster indicated by the variable:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  mapred.job.tracker
</pre>
</div></div>

<p>While this usually points to a map-reduce cluster with multiple nodes, Hadoop also offers a nifty option to run map-reduce jobs locally on the user's workstation. This can be very useful to run queries over small data sets &#8211; in such cases local mode execution is usually significantly faster than submitting jobs to a large cluster. Data is accessed transparently from HDFS. Conversely, local mode only runs with one reducer and can be very slow processing larger data sets.</p>

<p>Starting v-0.7, Hive fully supports local mode execution. To enable this, the user can enable the following option:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  hive&gt; SET mapred.job.tracker=local;
</pre>
</div></div>
<p>In addition, <tt>mapred.local.dir</tt> should point to a path that's valid on the local machine (for example <tt>/tmp/&lt;username&gt;/mapred/local</tt>). (Otherwise, the user will get an exception allocating local disk space.)</p>

<p>Starting v-0.7, Hive also supports a mode to run map-reduce jobs in local-mode automatically. The relevant options are <tt>hive.exec.mode.local.auto</tt>, <tt>hive.exec.mode.local.auto.inputbytes.max</tt>, and <tt>hive.exec.mode.local.auto.tasks.max</tt>:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  hive&gt; SET hive.exec.mode.local.auto=false;
</pre>
</div></div>

<p>Note that this feature is <em>disabled</em> by default. If enabled, Hive analyzes the size of each map-reduce job in a query and may run it locally if the following thresholds are satisfied:</p>
<ul>
	<li>The total input size of the job is lower than: <tt>hive.exec.mode.local.auto.inputbytes.max</tt> (128MB by default)</li>
	<li>The total number of map-tasks is less than: <tt>hive.exec.mode.local.auto.tasks.max</tt> (4 by default)</li>
	<li>The total number of reduce tasks required is 1 or 0.</li>
</ul>


<p>So for queries over small data sets, or for queries with multiple map-reduce jobs where the input to subsequent jobs is substantially smaller (because of reduction/filtering in the prior job), jobs may be run locally.</p>

<p>Note that there may be differences in the runtime environment of hadoop server nodes and the machine running the hive client (because of different jvm versions or different software libraries). This can cause unexpected behavior/errors while running in local mode. Also note that local mode execution is done in a separate, child jvm (of the hive client). If the user so wishes, the maximum amount of memory for this child jvm can be controlled via the option <tt>hive.mapred.local.mem</tt>. By default, it's set to zero, in which case Hive lets Hadoop determine the default memory limits of the child jvm.</p>

<h3><a name="GettingStarted-ErrorLogs"></a>Error Logs</h3>

<p>Hive uses log4j for logging. By default logs are not emitted to the console by the CLI. The default logging level is <tt>WARN</tt> and the logs are stored in the folder:</p>
<ul>
	<li><tt>/tmp/&lt;user.name&gt;/hive.log</tt></li>
</ul>


<p>If the user wishes &#8211; the logs can be emitted to the console by adding the arguments shown below:</p>
<ul>
	<li><tt>bin/hive &#45;hiveconf hive.root.logger=INFO,console</tt></li>
</ul>


<p>Alternatively, the user can change the logging level only by using:</p>
<ul>
	<li><tt>bin/hive &#45;hiveconf hive.root.logger=INFO,DRFA</tt></li>
</ul>


<p>Note that setting <tt>hive.root.logger</tt> via the 'set' command does not change logging properties since they are determined at initialization time.</p>

<p>Hive also stores query logs on a per hive session basis in <tt>/tmp/&lt;user.name&gt;/</tt>, but can be configured in <a href="/confluence/display/Hive/AdminManual+Configuration" title="AdminManual Configuration">hive-site.xml</a> with the <tt>hive.querylog.location</tt> property.</p>

<p>Logging during Hive execution on a Hadoop cluster is controlled by Hadoop configuration. Usually Hadoop will produce  one log file per map and reduce task stored on the cluster machine(s) where the task was executed. The log files can be obtained by clicking through to the Task Details page from the Hadoop JobTracker Web UI.</p>

<p>When using local mode (using <tt>mapred.job.tracker=local</tt>), Hadoop/Hive execution logs are produced on the client machine itself. Starting v-0.6 &#8211; Hive uses the <tt>hive-exec-log4j.properties</tt> (falling back to <tt>hive-log4j.properties</tt> only if it's missing) to determine where these logs are delivered by default. The default configuration file produces one log file per query executed in local mode and stores it under <tt>/tmp/&lt;user.name&gt;</tt>. The intent of providing a separate configuration file is to enable administrators to centralize execution log capture if desired (on a NFS file server for example). Execution logs are invaluable for debugging run-time errors.</p>

<p>Error logs are very useful to debug problems. Please send them with any bugs (of which there are many&#33;) to <tt>hive-dev@hadoop.apache.org</tt>.</p>

<h2><a name="GettingStarted-DDLOperations"></a>DDL Operations</h2>

<h3><a name="GettingStarted-CreatingHiveTables"></a>Creating Hive Tables</h3>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  hive&gt; CREATE TABLE pokes (foo INT, bar STRING);
</pre>
</div></div>

<p>creates a table called pokes with two columns, the first being an integer and the other a string.</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  hive&gt; CREATE TABLE invites (foo INT, bar STRING) PARTITIONED BY (ds STRING);
</pre>
</div></div>

<p>creates a table called invites with two columns and a partition column called ds. The partition column is a virtual column. It is not part of the data itself but is derived from the partition that a particular dataset is loaded into.</p>


<p>By default, tables are assumed to be of text input format and the delimiters are assumed to be &#94;A(ctrl-a).</p>

<h3><a name="GettingStarted-BrowsingthroughTables"></a>Browsing through Tables</h3>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  hive&gt; SHOW TABLES;
</pre>
</div></div>

<p>lists all the tables.</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  hive&gt; SHOW TABLES '.*s';
</pre>
</div></div>

<p>lists all the table that end with 's'. The pattern matching follows Java regular expressions. Check out this link for documentation <a href="http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html" class="external-link" rel="nofollow">http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html</a>.</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>hive&gt; DESCRIBE invites;
</pre>
</div></div>

<p>shows the list of columns.</p>

<h3><a name="GettingStarted-AlteringandDroppingTables"></a>Altering and Dropping Tables</h3>

<p>Table names can be <a href="/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-RenameTable">changed</a> and columns can be <a href="/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-Add%2FReplaceColumns">added or replaced</a>:</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  hive&gt; ALTER TABLE events RENAME TO 3koobecaf;
  hive&gt; ALTER TABLE pokes ADD COLUMNS (new_col INT);
  hive&gt; ALTER TABLE invites ADD COLUMNS (new_col2 INT COMMENT 'a comment');
  hive&gt; ALTER TABLE invites REPLACE COLUMNS (foo INT, bar STRING, baz INT COMMENT 'baz replaces new_col2');
</pre>
</div></div>

<p>Note that REPLACE COLUMNS replaces all existing columns and only changes the table's schema, not the data. The table must use a native SerDe. REPLACE COLUMNS can also be used to drop columns from the table's schema:</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  hive&gt; ALTER TABLE invites REPLACE COLUMNS (foo INT COMMENT 'only keep the first column');
</pre>
</div></div>

<p>Dropping tables:</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  hive&gt; DROP TABLE pokes;
</pre>
</div></div>

<h3><a name="GettingStarted-MetadataStore"></a>Metadata Store</h3>

<p>Metadata is in an embedded Derby database whose disk storage location is determined by the hive configuration variable named <tt>javax.jdo.option.ConnectionURL</tt>. By default this location is <tt>./metastore_db</tt> (see <tt>conf/hive-default.xml</tt>).</p>

<p>Right now, in the default configuration, this metadata can only be seen by one user at a time.</p>

<p>Metastore can be stored in any database that is supported by JPOX. The location and the type of the RDBMS can be controlled by the two variables <tt>javax.jdo.option.ConnectionURL</tt> and <tt>javax.jdo.option.ConnectionDriverName</tt>. Refer to JDO (or JPOX) documentation for more details on supported databases. The database schema is defined in JDO metadata annotations file <tt>package.jdo</tt> at <tt>src/contrib/hive/metastore/src/model</tt>.</p>

<p>In the future, the metastore itself can be a standalone server.</p>

<p>If you want to run the metastore as a network server so it can be accessed from multiple nodes, see <a href="/confluence/display/Hive/HiveDerbyServerMode" title="HiveDerbyServerMode">Hive Using Derby in Server Mode</a>.</p>

<h2><a name="GettingStarted-DMLOperations"></a>DML Operations</h2>

<p>Loading data from flat files into Hive:</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  hive&gt; LOAD DATA LOCAL INPATH './examples/files/kv1.txt' OVERWRITE INTO TABLE pokes;
</pre>
</div></div>

<p>Loads a file that contains two columns separated by ctrl-a into pokes table. 'LOCAL' signifies that the input file is on the local file system. If 'LOCAL' is omitted then it looks for the file in HDFS.</p>

<p>The keyword 'OVERWRITE' signifies that existing data in the table is deleted. If the 'OVERWRITE' keyword is omitted, data files are appended to existing data sets.</p>

<p>NOTES:</p>
<ul>
	<li>NO verification of data against the schema is performed by the load command.</li>
	<li>If the file is in hdfs, it is moved into the Hive-controlled file system namespace.<br/>
The root of the Hive directory is specified by the option <tt>hive.metastore.warehouse.dir</tt> in <tt>hive-default.xml</tt>. We advise users to create this directory before trying to create tables via Hive.</li>
</ul>


<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  hive&gt; LOAD DATA LOCAL INPATH './examples/files/kv2.txt' OVERWRITE INTO TABLE invites PARTITION (ds='2008-08-15');
  hive&gt; LOAD DATA LOCAL INPATH './examples/files/kv3.txt' OVERWRITE INTO TABLE invites PARTITION (ds='2008-08-08');
</pre>
</div></div>

<p>The two LOAD statements above load data into two different partitions of the table invites. Table invites must be created as partitioned by the key ds for this to succeed.</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  hive&gt; LOAD DATA INPATH '/user/myname/kv2.txt' OVERWRITE INTO TABLE invites PARTITION (ds='2008-08-15');
</pre>
</div></div>

<p>The above command will load data from an HDFS file/directory to the table.<br/>
Note that loading data from HDFS will result in moving the file/directory. As a result, the operation is almost instantaneous.</p>

<h2><a name="GettingStarted-SQLOperations"></a>SQL Operations</h2>


<h3><a name="GettingStarted-ExampleQueries"></a>Example Queries</h3>

<p>Some example queries are shown below. They are available in <tt>build/dist/examples/queries</tt>.<br/>
More are available in the hive sources at <tt>ql/src/test/queries/positive</tt>.</p>

<h4><a name="GettingStarted-SELECTSandFILTERS"></a>SELECTS and FILTERS</h4>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  hive&gt; SELECT a.foo FROM invites a WHERE a.ds='2008-08-15';
</pre>
</div></div>

<p>selects column 'foo' from all rows of partition <tt>ds=2008-08-15</tt> of the <tt>invites</tt> table. The results are not stored anywhere, but are displayed on the console.</p>

<p>Note that in all the examples that follow, <tt>INSERT</tt> (into a hive table, local directory or HDFS directory) is optional.</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  hive&gt; INSERT OVERWRITE DIRECTORY '/tmp/hdfs_out' SELECT a.* FROM invites a WHERE a.ds='2008-08-15';
</pre>
</div></div>

<p>selects all rows from partition <tt>ds=2008-08-15</tt> of the <tt>invites</tt> table into an HDFS directory. The result data is in files (depending on the number of mappers) in that directory.<br/>
NOTE: partition columns if any are selected by the use of &#42;. They can also be specified in the projection clauses.</p>

<p>Partitioned tables must always have a partition selected in the <tt>WHERE</tt> clause of the statement.</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  hive&gt; INSERT OVERWRITE LOCAL DIRECTORY '/tmp/local_out' SELECT a.* FROM pokes a;
</pre>
</div></div>

<p>selects all rows from pokes table into a local directory.</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  hive&gt; INSERT OVERWRITE TABLE events SELECT a.* FROM profiles a;
  hive&gt; INSERT OVERWRITE TABLE events SELECT a.* FROM profiles a WHERE a.key &lt; 100;
  hive&gt; INSERT OVERWRITE LOCAL DIRECTORY '/tmp/reg_3' SELECT a.* FROM events a;
  hive&gt; INSERT OVERWRITE DIRECTORY '/tmp/reg_4' select a.invites, a.pokes FROM profiles a;
  hive&gt; INSERT OVERWRITE DIRECTORY '/tmp/reg_5' SELECT COUNT(*) FROM invites a WHERE a.ds='2008-08-15';
  hive&gt; INSERT OVERWRITE DIRECTORY '/tmp/reg_5' SELECT a.foo, a.bar FROM invites a;
  hive&gt; INSERT OVERWRITE LOCAL DIRECTORY '/tmp/sum' SELECT SUM(a.pc) FROM pc1 a;
</pre>
</div></div>

<p>selects the sum of a column. The avg, min, or max can also be used. Note that for versions of Hive which don't include <a href="https://issues.apache.org/jira/browse/HIVE-287" class="external-link" rel="nofollow">HIVE-287</a>, you'll need to use <tt>COUNT(1)</tt> in place of <tt>COUNT&#40;*)</tt>.</p>

<h4><a name="GettingStarted-GROUPBY"></a>GROUP BY</h4>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  hive&gt; FROM invites a INSERT OVERWRITE TABLE events SELECT a.bar, count(*) WHERE a.foo &gt; 0 GROUP BY a.bar;
  hive&gt; INSERT OVERWRITE TABLE events SELECT a.bar, count(*) FROM invites a WHERE a.foo &gt; 0 GROUP BY a.bar;
</pre>
</div></div>

<p>Note that for versions of Hive which don't include <a href="https://issues.apache.org/jira/browse/HIVE-287" class="external-link" rel="nofollow">HIVE-287</a>, you'll need to use <tt>COUNT(1)</tt> in place of <tt>COUNT&#40;*)</tt>.</p>

<h4><a name="GettingStarted-JOIN"></a>JOIN</h4>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  hive&gt; FROM pokes t1 JOIN invites t2 ON (t1.bar = t2.bar) INSERT OVERWRITE TABLE events SELECT t1.bar, t1.foo, t2.foo;
</pre>
</div></div>

<h4><a name="GettingStarted-MULTITABLEINSERT"></a>MULTITABLE INSERT</h4>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  FROM src
  INSERT OVERWRITE TABLE dest1 SELECT src.* WHERE src.key &lt; 100
  INSERT OVERWRITE TABLE dest2 SELECT src.key, src.value WHERE src.key &gt;= 100 and src.key &lt; 200
  INSERT OVERWRITE TABLE dest3 PARTITION(ds='2008-04-08', hr='12') SELECT src.key WHERE src.key &gt;= 200 and src.key &lt; 300
  INSERT OVERWRITE LOCAL DIRECTORY '/tmp/dest4.out' SELECT src.value WHERE src.key &gt;= 300;
</pre>
</div></div>

<h4><a name="GettingStarted-STREAMING"></a>STREAMING</h4>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>  hive&gt; FROM invites a INSERT OVERWRITE TABLE events SELECT TRANSFORM(a.foo, a.bar) AS (oof, rab) USING '/bin/cat' WHERE a.ds &gt; '2008-08-09';
</pre>
</div></div>

<p>This streams the data in the map phase through the script <tt>/bin/cat</tt> (like hadoop streaming).<br/>
Similarly &#8211; streaming can be used on the reduce side (please see the <a href="https://cwiki.apache.org/confluence/display/Hive/Tutorial#Tutorial-Custommap%2Freducescripts" class="external-link" rel="nofollow">Hive Tutorial</a> for examples).</p>

<h2><a name="GettingStarted-SimpleExampleUseCases"></a>Simple Example Use Cases</h2>


<h3><a name="GettingStarted-MovieLensUserRatings"></a>MovieLens User Ratings</h3>

<p>First, create a table with tab-delimited text file format:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>CREATE TABLE u_data (
  userid INT,
  movieid INT,
  rating INT,
  unixtime STRING)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY '\t'
STORED AS TEXTFILE;
</pre>
</div></div>

<p>Then, download and extract the data files:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>wget http://www.grouplens.org/sites/www.grouplens.org/external_files/data/ml-data.tar.gz
tar xvzf ml-data.tar.gz
</pre>
</div></div>

<p>And load it into the table that was just created:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>LOAD DATA LOCAL INPATH 'ml-data/u.data'
OVERWRITE INTO TABLE u_data;
</pre>
</div></div>

<p>Count the number of rows in table u_data:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>SELECT COUNT(*) FROM u_data;
</pre>
</div></div>

<p>Note that for versions of Hive which don't include <a href="https://issues.apache.org/jira/browse/HIVE-287" class="external-link" rel="nofollow">HIVE-287</a>, you'll need to use COUNT(1) in place of COUNT&#40;*).</p>

<p>Now we can do some complex data analysis on the table <tt>u_data</tt>:</p>

<p>Create <tt>weekday_mapper.py</tt>:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>import sys
import datetime

for line in sys.stdin:
  line = line.strip()
  userid, movieid, rating, unixtime = line.split('\t')
  weekday = datetime.datetime.fromtimestamp(float(unixtime)).isoweekday()
  print '\t'.join([userid, movieid, rating, str(weekday)])
</pre>
</div></div>

<p>Use the mapper script:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>CREATE TABLE u_data_new (
  userid INT,
  movieid INT,
  rating INT,
  weekday INT)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY '\t';

add FILE weekday_mapper.py;

INSERT OVERWRITE TABLE u_data_new
SELECT
  TRANSFORM (userid, movieid, rating, unixtime)
  USING 'python weekday_mapper.py'
  AS (userid, movieid, rating, weekday)
FROM u_data;

SELECT weekday, COUNT(*)
FROM u_data_new
GROUP BY weekday;
</pre>
</div></div>

<p>Note that if you're using Hive 0.5.0 or earlier you will need to use <tt>COUNT(1)</tt> in place of <tt>COUNT&#40;*)</tt>.</p>

<h3><a name="GettingStarted-ApacheWeblogData"></a>Apache Weblog Data</h3>

<p>The format of Apache weblog is customizable, while most webmasters use the default.<br/>
For default Apache weblog, we can create a table with the following command.</p>

<p>More about &#33;RegexSerDe can be found here: <a href="http://issues.apache.org/jira/browse/HIVE-662" class="external-link" rel="nofollow">http://issues.apache.org/jira/browse/HIVE-662</a>.</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>add jar ../build/contrib/hive_contrib.jar;

CREATE TABLE apachelog (
  host STRING,
  identity STRING,
  user STRING,
  time STRING,
  request STRING,
  status STRING,
  size STRING,
  referer STRING,
  agent STRING)
ROW FORMAT SERDE 'org.apache.hadoop.hive.contrib.serde2.RegexSerDe'
WITH SERDEPROPERTIES (
  "input.regex" = "([^]*) ([^]*) ([^]*) (-|\\[^\\]*\\]) ([^ \"]*|\"[^\"]*\") (-|[0-9]*) (-|[0-9]*)(?: ([^ \"]*|\".*\") ([^ \"]*|\".*\"))?",
  "output.format.string" = "%1$s %2$s %3$s %4$s %5$s %6$s %7$s %8$s %9$s"
)
STORED AS TEXTFILE;
</pre>
</div></div>
        </div>

        <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://cwiki.apache.org/confluence/display/Hive/GettingStarted"
    dc:identifier="https://cwiki.apache.org/confluence/display/Hive/GettingStarted"
    dc:title="GettingStarted"
    trackback:ping="https://cwiki.apache.org/confluence/rpc/trackback/27362090"/>
</rdf:RDF>
-->

            
    


<fieldset class="hidden parameters">
    <legend>Labels parameters</legend>
    <input type="hidden" id="domainName" value="https://cwiki.apache.org/confluence">
    <input type="hidden" id="pageId" value="27362090">
    <input type="hidden" id="spaceKey" value="Hive">
</fieldset>

<div id="labels-section" class="pageSection">
    <div class="labels-editor">
        <span id="labels-section-title" class="label-title">
            <b>Labels:</b>
        </span>
        <div id="labels-section-content" class="content-column">
            <span id="labels-section-title-none" class="label-title none ">
                None
            </span>

            <div id="labelsList" class="label-list">
                            </div>

                    </div>

        <span class="errorMessage error" id="errorSpan"></span>
        <form method="GET" action="" id="add-labels-form">
            <div id="labelInputSpan" class="labels-input">
                <div id="labelOperationErrorContainer" class="hidden">
                    <span class="error"><span class="errorMessage" id="labelOperationErrorMessage"></span></span>
                </div>

                <div class="caption">Enter labels to add to this page:</div>
                <div id="label-input-fields">
                    <input autocomplete="off" id="labelsString" name="labelsString" value="" size="40">
                    <input id="add-labels-editor-button" type="submit" class="add-labels" value="Add">
                    <input id="close-labels-editor-button" type="submit" class="hide-labels-editor" value="Done">
                </div>
                <div id="waitImageAndStatus">
                    <img class="waiting" alt="Please wait" src="/confluence/s/en/2176/1/_/images/icons/wait.gif">&nbsp;
                    <span id="labelOperationStatus" class="smalltext"></span>
                </div>
                <div id="labelsAutocompleteList" class="aui-dd-parent"></div>
                <div class="labels-tip">
                    <div id="suggestedLabelsSpan"></div>
                    Looking for a label? Just start typing.
                </div>
            </div>
        </form>
    </div>
</div>

            
            




            
    

        
<fieldset class="parameters hidden">
    <input type="hidden" id="deleteCommentConfirmMessage" value="Are you sure you want to remove the comment?">
    <input type="hidden" id="collapseTooltip" value="Click to toggle the display of this comment.">
        </fieldset>

<fieldset class="hidden parameters i18n">
        <input type="hidden" title="i18n.cancel.name" value="Cancel">
</fieldset>






<div id="comments-section" class="pageSection">
    
    
    
    
                                    </div>


            
</div>


    



    
    

    
    
    


<script type="text/x-template" title="manage-watchers-dialog">
<div class="dialog-content">
    <div class="column page-watchers">
        <h3>Watching this page</h3>
        <p class="description">These people are notified when the page is changed. You can add or remove people from this list.</p>
        <form action="/confluence/json/addwatch.action" method="POST">
                <input type="hidden" name="atl_token" value="2daac1e7e7442a79955f8f9305f469a495398c8a">
            <input type="hidden" name="pageId" value="27362090"/>
            <input type="hidden" id="add-watcher-username" name="username" value=""/>
            <label for="add-watcher-user">User</label>
            <input id="add-watcher-user" name="userFullName" type="search" class="autocomplete-user"
               value="" placeholder="Full name or username" autocomplete="off"
               data-max="10" data-target="#add-watcher-username" data-dropdown-target="#add-watcher-dropdown"
               data-template="{title}" data-none-message="No matching users found.">
            <input id="add-watcher-submit" type="submit" name="add" value="Add">
            <div id="add-watcher-dropdown" class="aui-dd-parent autocomplete"></div>
            <div class="status hidden"></div>
        </form>
        <ul class="user-list">
            <li class="loading">Loading&hellip;</li>
            <li class="no-users hidden">No page watchers</li>
        </ul>
    </div>
    <div class="column space-watchers">
        <h3>Watching this space</h3>
        <p class="description">These people are notified when any content in the space is changed. You cannot modify this list.</p>
        <ul class="user-list">
            <li class="loading">Loading&hellip;</li>
            <li class="no-users hidden">No space watchers</li>
        </ul>
    </div>
</div>
</script>
<script type="text/x-template" title="manage-watchers-user">
    <li class="watch-user">
        <img class="profile-picture confluence-userlink" src="{iconUrl}" data-username="{username}">
        <a class="confluence-userlink" href="{url}" data-username="{username}">{fullName} <span class="username">({username})</span></a>
        <span class="remove-watch" title="Remove"
            data-username="{username}">Remove</span>
    </li>
</script>
<script type="text/x-template" title="manage-watchers-help-link">
    <div class="dialog-help-link">
            <a href="http://docs.atlassian.com/confluence/docs-35/Managing+Watchers" target="_blank">Help</a>
    </div>
</script>
    <br class="clear">
</div><!-- \#main -->

<div id="footer">
                                                <p class="license license-opensource">
                  Powered by a free <b>Atlassian Confluence Open Source Project License</b> granted to Apache Software Foundation. <a href="http://www.atlassian.com/c/conf/11461">Evaluate Confluence today</a>.<br>
                </p>
                        
    <ul id="poweredby">
        <li class="noprint">Powered by <a href="http://www.atlassian.com/software/confluence" class="hover-footer-link">Atlassian Confluence</a> 3.5.17, the <a href="http://www.atlassian.com/software/confluence/tour/enterprise-wiki.jsp" class="hover-footer-link">Enterprise Wiki</a></li>
        <li class="print-only">Printed by Atlassian Confluence 3.5.17, the Enterprise Wiki.</li>        
        <li class="noprint"> &nbsp; |&nbsp; <a href="http://jira.atlassian.com/secure/BrowseProject.jspa?id=10470" class="hover-footer-link">Report a bug</a></li>
        <li class="noprint"> &nbsp;|&nbsp; <a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" class="hover-footer-link">Atlassian News</a></li>
    </ul>

    

            
    </div></div><!-- \#full-height-container -->
</div><!-- \#page -->
</body>
</html>